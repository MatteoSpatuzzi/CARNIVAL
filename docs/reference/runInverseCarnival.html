<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>runInverseCarnival — runInverseCarnival • CARNIVAL</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="runInverseCarnival — runInverseCarnival" />
<meta property="og:description" content="runInverseCarnival" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CARNIVAL</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CARNIVAL.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/saezlab/CARNIVAL/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/saezlab">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://www.saezlab.org">
    <span class="fas fa-university"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1><code>runInverseCarnival</code></h1>
    <small class="dont-index">Source: <a href='https://github.com/saezlab/CARNIVAL/blob/master/R/api_run_carnival.R'><code>R/api_run_carnival.R</code></a></small>
    <div class="hidden name"><code>runInverseCarnival.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>runInverseCarnival</code></p>
    </div>

    <pre class="usage"><span class='fu'>runInverseCarnival</span><span class='op'>(</span>
  <span class='va'>measurements</span>,
  <span class='va'>priorKnowledgeNetwork</span>,
  weights <span class='op'>=</span> <span class='cn'>NULL</span>,
  carnivalOptions <span class='op'>=</span> <span class='fu'><a href='defaultLpSolveCarnivalOptions.html'>defaultLpSolveCarnivalOptions</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>measurements</th>
      <td><p>vector of the measurements (i.e. DoRothEA/VIPER normalised
enrichment scores)</p></td>
    </tr>
    <tr>
      <th>priorKnowledgeNetwork</th>
      <td><p>data frame of the prior knowledge network</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>(optional) vector of the additional weights: e.g. PROGENy pathway
score or measured protein activities.</p></td>
    </tr>
    <tr>
      <th>carnivalOptions</th>
      <td><p>the list of options for the run. See defaultLpSolveCarnivalOptions(), 
defaultLpSolveCarnivalOptions, defaultCbcCarnivalOptions.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function will return a list of results containing:
1. weightedSIF: A table with 4 columns containing the combined network
solutions from CARNIVAL. It contains the Source of the interaction (Node1),
Sign of the interaction (Sign), the Target of the interaction (Node2) and the
weight of the interaction (Weight) which shows how often an interaction
appears across all solutions.</p>
<p>2. nodesAttributes: A table with 6 columns containing information about
infered protein activity states and attributes. It contains the Protein IDs
(Node); how often this node has taken an activity of 0, 1 and -1 across the
solutions (ZeroAct, UpAct, DownAct); the average activities across solutions
(AvgAct); and the node attribute (measured, target, inferred).</p>
<p>3. sifAll: A list of separate network solutions.</p>
<p>4. attributesAll: A list of separate inferred node activities in each
solution.</p>
<p>5. diagnostics: reports the convergence of optimization and reason of
the termination. Only for CPLEX solver.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>TODO Replace with correct description</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Enio Gjerga, Olga Ivanova 2020-2021 <a href='mailto:carnival.developers@gmail.com'>carnival.developers@gmail.com</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/load.html'>load</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"toy_measurements_ex1.RData"</span>,
                       package<span class='op'>=</span><span class='st'>"CARNIVAL"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/load.html'>load</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"toy_network_ex1.RData"</span>,
                       package<span class='op'>=</span><span class='st'>"CARNIVAL"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## lpSolve</span>
<span class='va'>res1</span> <span class='op'>=</span> <span class='fu'>runInverseCarnival</span><span class='op'>(</span>measurements <span class='op'>=</span> <span class='va'>toy_measurements_ex1</span>,
                         priorKnowledgeNetwork <span class='op'>=</span> <span class='va'>toy_network_ex1</span>,
                         carnivalOptions <span class='op'>=</span> <span class='fu'><a href='defaultLpSolveCarnivalOptions.html'>defaultLpSolveCarnivalOptions</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'> </span></div><div class='output co'>#&gt; <span class='message'>--- Start of the CARNIVAL pipeline ---</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Carnival flavour: inverse</span></div><div class='output co'>#&gt; <span class='message'>Perturbations are not provided, all parents nodes are added as potential perturbations.</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Generating variables for lp problem</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Done: generating variables for lp problem</span></div><div class='output co'>#&gt; <span class='message'>Saving preprocessed data.</span></div><div class='output co'>#&gt; <span class='message'>Done: saving parsed data: /Users/olgaivanova/GoogleDrive/_PhD_Heidelberg/playground/carnival_style/carnival/docs/reference/parsedData_t01_55_46d12_05_2021n55.RData</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Generating formulation for LP problem</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Done: generating formulation for LP problem.</span></div><div class='output co'>#&gt; <span class='message'>Saving LP file</span></div><div class='output co'>#&gt; <span class='message'>Done: Saving LP file: /Users/olgaivanova/GoogleDrive/_PhD_Heidelberg/playground/carnival_style/carnival/docs/reference/lpFile_t01_55_46d12_05_2021n55.lp</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Solving LP problem</span></div><div class='output co'>#&gt; <span class='message'>Parsing .lp file for lpSolve</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'><span style='color: #00BBBB;'>──</span><span> </span><span style='font-weight: bold;'>Column specification</span><span> </span><span style='color: #00BBBB;'>────────────────────────────────────────────────────────</span><span></span>
#&gt; <span class='message'>cols(</span>
#&gt; <span class='message'>  X1 = </span><span style='color: #BB0000;'>col_character()</span><span></span>
#&gt; <span class='message'>)</span></div><div class='output co'>#&gt; <span class='message'>Done: parsing .lp file for lpSolve</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Done: solving LP problem.</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Getting the solution matrix</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Done: getting the solution matrix.</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Exporting solution matrix</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 Done: exporting solution matrix.</span></div><div class='output co'>#&gt; <span class='message'>Cleaning intermediate files</span></div><div class='output co'>#&gt; <span class='message'>Done: cleaning</span></div><div class='output co'>#&gt; <span class='message'>01:55:46 12.05.2021 All tasks finished.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>--- End of the CARNIVAL pipeline --- </span></div><div class='input'>                              
<span class='va'>res1</span><span class='op'>$</span><span class='va'>weightedSIF</span> <span class='co'>##see @return</span>
</div><div class='output co'>#&gt;          Node1 Sign Node2 Weight
#&gt; 1           I1    1    N1    100
#&gt; 2           N1    1    M1    100
#&gt; 3           N1    1    M2    100
#&gt; 4 Perturbation    1    I1    100
#&gt; 5 Perturbation    1    I2    100
#&gt; 6 Perturbation   -1    I2    100
#&gt; 7 Perturbation   -1    I1    100</div><div class='input'><span class='va'>res1</span><span class='op'>$</span><span class='va'>nodesAttributes</span> <span class='co'>## see @return  </span>
</div><div class='output co'>#&gt;          nodes ZeroAct UpAct DownAct AvgAct nodesType
#&gt; 1           I1       0   100       0    100          
#&gt; 2           N1       0   100       0    100          
#&gt; 3           I2     100     0       0      0          
#&gt; 4           N2     100     0       0      0          
#&gt; 5 Perturbation       0   100       0    100         P
#&gt; 6           M1       0   100       0    100         M
#&gt; 7           M2       0   100       0    100         M</div><div class='input'><span class='va'>res1</span><span class='op'>$</span><span class='va'>sifAll</span> <span class='co'>## see @return</span>
</div><div class='output co'>#&gt; [[1]]
#&gt;           Node1 Sign Node2
#&gt; 1            I1    1    N1
#&gt; 2            N1    1    M1
#&gt; 3            N1    1    M2
#&gt; 7  Perturbation    1    I1
#&gt; 8  Perturbation    1    I2
#&gt; 9  Perturbation   -1    I1
#&gt; 10 Perturbation   -1    I2
#&gt; </div><div class='input'><span class='va'>res1</span><span class='op'>$</span><span class='va'>attributesAll</span> <span class='co'>## see @return </span>
</div><div class='output co'>#&gt; [[1]]
#&gt;          nodes activity
#&gt; 1           I1        1
#&gt; 2           N1        1
#&gt; 3 Perturbation        1
#&gt; 4           M1        1
#&gt; 5           M2        1
#&gt; </div><div class='input'>
<span class='co'>## Examples for cbc and cplex are commented out because these solvers are not part of R environment </span>
<span class='co'>## and need to be installed separately</span>
<span class='co'>## </span>
<span class='co'>## cbc</span>
<span class='co'>## res2 = runInverseCarnival(measurements = toy_measurements_ex1,</span>
<span class='co'>##                           priorKnowledgeNetwork = toy_network_ex1,</span>
<span class='co'>##                           carnivalOptions = defaultCbcCarnivalOptions())</span>
<span class='co'>##                               </span>
<span class='co'>## res2$weightedSIF ##see @return</span>
<span class='co'>## res2$nodesAttributes ## see @return  </span>
<span class='co'>## res2$sifAll ## see @return </span>
<span class='co'>## res2$attributesAll ## see @return </span>
<span class='co'>##</span>
<span class='co'>## cplex</span>
<span class='co'>## res3 = runVanillaCarnival(measurements = toy_measurements_ex1,</span>
<span class='co'>##                           priorKnowledgeNetwork = toy_network_ex1,</span>
<span class='co'>##                           carnivalOptions = defaultCplexCarnivalOptions())</span>
<span class='co'>##</span>
<span class='co'>## res3$weightedSIF ##see @return</span>
<span class='co'>## res3$nodesAttributes ## see @return  </span>
<span class='co'>## res3$sifAll ## see @return</span>
<span class='co'>## res3$attributesAll ## see @return</span>
 
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Enio Gjerga, Panuwat Trairatphisan, Olga Ivanova.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


